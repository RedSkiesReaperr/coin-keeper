<h1>Movements</h1>

<div class="relative overflow-x-auto shadow-md sm:rounded-lg">
  <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
    <tr>
      <th scope="col" class="px-6 py-3">Date</th>
      <th scope="col" class="px-6 py-3">Label</th>
      <th scope="col" class="px-6 py-3">Supplier</th>
      <th scope="col" class="px-6 py-3">Amount</th>
      <th scope="col" class="px-6 py-3">Comment</th>
      <th scope="col" class="px-6 py-3">Pointed</th>
      <th scope="col" class="px-6 py-3">Actions</th>
    </tr>
    </thead>
    <tbody>
    <% @movements.each do |movement| %>
      <tr class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700">
        <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
          <%= date(movement) %>
        </th>
        <td data-tooltip-target="tooltip-movement-<%= movement.id %>-label" data-tooltip-placement="top" class="px-6 py-4">
          <%= truncate movement.label, length: 40 %>

          <% if movement.label.size > 40 %>
            <div id="tooltip-movement-<%= movement.id %>-label" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
              <%= movement.label %>
              <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
          <% end %>
        </td>
        <td class="px-6 py-4">
          <%= movement.supplier %>
        </td>
        <td class="px-6 py-4">
          <%= amount(movement) %>
        </td>
        <td data-tooltip-target="tooltip-movement-<%= movement.id %>-comment" data-tooltip-placement="top" class="px-6 py-4">
          <%= truncate movement.comment, length: 50 %>
          <% if movement.comment && movement.comment.size > 50 %>
            <div id="tooltip-movement-<%= movement.id %>-comment" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
              <%= movement.comment %>
              <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
          <% end %>
        </td>
        <td class="px-6 py-4 text-center">
          <%= check_box_tag '', movement.pointed, class: 'text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600' %>
        </td>
        <td class="px-6 py-4">
          <a href="#" class="font-medium text-blue-600 dark:text-blue-500 hover:underline">Edit</a>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
